var HttpService = require('../index');// text/index.js文件中已经实例化过HttpService对象，这里直接取出实例化之后的defaultService属性
var testIndex = require('./index');
var helpService = HttpService.$getDefaultService().$getHelpService();
var userService = HttpService.$getDefaultService().$getUserService();



describe('测试获取帮助中心首页', function (done) {

  this.timeout(5000);

  it('should return right code', function () {
    return helpService.$getHelpCenter().should.eventually.satisfy(function (obj) {
      return obj.message.code == 0;
    }).notify(done);
  });
})


describe('测试获取帮助中心某一类问题列表', function (done) {
  var typeId = '36';

  this.timeout(5000);

  it('should return right code when info is right', function () {
    return helpService.$getCategories(typeId).should.eventually.satisfy(function (obj) {
      return obj.message.code == 0;
    }).notify(done);
  });
})


describe('测试获取帮助中心某一问题详情', function (done) {
  var groupId = '66';
  var problemId = '151490';

  this.timeout(5000);

  it('should return right code when info is right', function () {
    return helpService.$getIssueDetail(groupId, problemId).should.eventually.satisfy(function (obj) {
      return obj.message.code == 0;
    }).notify(done);
  });
})