# 日志模块

## 1、安装与引用

    npm install @jhjr/logger --save
    
    var logger = require('logger')..consoleLogger;
    var loggerService = new consoleLogger();
    
API文档地址 http://jsdoc.jinhui365.cn/logger/0.3.0-snapshot

## 2、简介

- 日志记录模块，提供`info`、`debug`、`error` 、`warn`日志记录接口。
- 实例化时，可以选择两种输出方式 `console`或者`file`
- 选择`file`形式可以自定义输出文件
- 支持统一设置通用数据
- 支持统一设置，日志中需要过滤数据的敏感参数
    
    
## 3、如何记录日志
支持三种类型的格式日志记录
### 3.1 自定义format类型

    logService.info('banner', '接口入参:%j  统计数据返回值%j', {...}, {...})

### 3.2自定义单 object 类型
    
    logService.info('tag', {
          message1: {...},
          message2: {...}
    });

### 3.3 逗号分隔的参数类型

    logService.info('tag',{...}, {...})
    
## 4、 输出日志格式
多种输入经过处理，统一输出成相同的结构

    {
        t: new Date().getTime(),
        level: String,
        tag: String,
        info: {
            omitKey1: String,
            omitKey2: String
        }
        msg: String
    }
    
例如：

    { timestamp: '14743254445552',
      level: 'info',
      tag: 'banner',
      info: { uid: '333', mobile: '18888888888' },
      msg: '{"message1":{"message":{"code":0,"message":""}},"message2":{"message":{"code":0,"message":""}}}' }
      
## 5、其他
### 5.1 设置通用数据

    loggerService.setGeneralParameter({
        uid:'222',
        mobile:'18888888888'
    });

### 5.2 设置敏感过滤参数

    loggerService.setFilterParamter(['password', 'married']);


    
    


